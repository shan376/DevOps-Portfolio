ğŸ“˜ DevOps Notes â€“ Topic 17: AWS CLI
(Install, Configure & Lab Practice)
ğŸ¯ Goal:
Use AWS services (EC2, S3) from terminal using CLI, with IAM authentication.

ğŸ”¹ 1. What is AWS CLI?
ğŸ“Œ Concept:
AWS CLI (Command Line Interface) ek command-line tool hai jo AWS ke resources ko
terminal se manage karne ka moka deta hai â€” bina browser open kiye.
ğŸ“˜ Roman Urdu:
CLI ka matlab hai terminal se kaam lena. Console ki jagah, aap aws command likh ke EC2, S3
jaisi services chala sakte ho.
ğŸ§  Real-life Example:
DevOps engineer ko auto-scripts likhne hote hain jismein EC2 start/stop, S3 backup upload
automate hota hai â€” ye sab CLI se hota hai.

ğŸ§© 2. AWS CLI Installation (Ubuntu)
âœ… Manual Method (Preferred):
Auto install (apt install awscli) se purana version ya error aa sakta hai, use avoid karein.
ğŸ”§ Steps:

1. Download AWS CLI:
   curl "[https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip](https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip)" -o "awscliv2.zip"
2. Install unzip if not already:
   sudo apt install unzip -y
3. Unzip downloaded file:
   unzip awscliv2.zip
4. Install AWS CLI:
   sudo ./aws/install
   âœ… AWS CLI successfully installed.

ğŸ§© 3. Check CLI Version
aws --version
âœ… Output:
aws-cli/2.x.x Python/3.x.x Linux
ğŸ“˜ Roman Urdu: Yeh check karta hai ke CLI install hui ya nahi.

ğŸ§© 4. IAM Setup (User + Policy)
ğŸ”¸ Why?
AWS CLI ko use karne ke liye IAM user ki access keys chahiye jismein permissions defined hon
(EC2 start/stop, S3 upload, etc.).
ğŸ”¸ Steps: Create IAM User (Programmatic access)

1. Go to IAM â†’ Users â†’ Add user
2. Enter user name (e.g., cli-user)
3. Select âœ… Programmatic access
4. Click Next till "Permissions"

ğŸ”¸ Steps: Create Custom IAM Policy
Go to: IAM â†’ Policies â†’ Create Policy â†’ JSON tab

```
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Action": [
"ec2:StartInstances",
"ec2:StopInstances",
"s3:*"
],
"Resource": "*"
}
]
}
```

ğŸ“ Policy Name: DevOpsCLIPolicy
ğŸ“˜ Roman Urdu: Yeh permission de raha hai ke user EC2 aur S3 ko use kar sakta hai CLI se.

ğŸ”¸ Attach Policy to IAM User

1. IAM â†’ Users â†’ Select cli-user
2. Click Permissions â†’ Add permissions
3. Select Attach policies directly
4. Choose your policy: DevOpsCLIPolicy
5. Click Add permissions

ğŸ§© 5. Configure AWS CLI
aws configure
ğŸ›  Yeh 4 cheezein poochta hai:

| Prompt                | Explanation                 |
| --------------------- | --------------------------- |
| AWS Access Key ID     | IAM user ka access key      |
| AWS Secret Access Key | IAM user ka secret key      |
| Default region name   | e.g., us-east-1, ap-south-1 |
| Default output format | json, text, or table        |

ğŸ§© New Access Key Generate Karna (for Existing IAM User)

1. Login to AWS Console
2. Go to IAM Service
3. Left sidebar â†’ Click Users
4. Click on your IAM user name
5. Go to Security credentials tab
6. Scroll to Access keys section
7. Click on Create access key
8. Choose â€œUse for CLI, SDK, etc.â€ â†’ Click Next
9. (Optional) Add description â†’ Click Create access key
10. âœ… Now you will get:
    o Access Key ID â†’ Copy this
    o Secret Access Key â†’ Copy this immediately (âš ï¸ ye dobara nahi dikhegi)
    o ğŸ’¾ CSV file download karlo for backup
    ğŸ“˜ Roman Urdu: Ye setup CLI config karta hai. Access key & region waghaira set hoti hain.

âœ… Config files:
â€¢ ~/.aws/credentials
â€¢ ~/.aws/config

ğŸ§© 6. S3 â€“ Concept & Purpose
ğŸ“Œ What is S3?
S3 = Simple Storage Service. AWS ka object storage system hai jismein aap koi bhi file ya
folder securely rakh sakte ho.
ğŸ“˜ Roman Urdu:
S3 bucket ek cloud folder ki tarah hoti hai. Aap usmein files, images, ya logs daal ke rakh sakte
ho.

ğŸ”§ S3 Use Cases:
â€¢ Website file hosting
â€¢ Backup & logs
â€¢ File sharing via public/private URL

ğŸ§© 7. CLI Lab Practice â€“ EC2 & S3
âœ… (A) List EC2 Instances
aws ec2 describe-instances
ğŸ“˜ CLI se sab EC2 instance ka detail (state, IP, ID) milta hai.

âœ… (B) List All S3 Buckets
aws s3 ls
ğŸ“˜ AWS account mein jitni buckets hain unki list aayegi.

âœ… (C) Create New S3 Bucket
aws s3 mb s3://my-devops-bucket-172
âœ… Bucket name globally unique hona chahiye.

ğŸ“„ Create a File
cat > myfile.txt

âœ… (D) Upload File to Bucket
aws s3 cp myfile.txt s3://my-devops-bucket-172/
ğŸ“˜ cp ka matlab hota hai copy. Yeh file cloud mein daal deta hai.

âœ… (E) Verify File Upload
aws s3 ls s3://my-devops-bucket-172/
ğŸ“˜ Isse bucket ke andar ki files dikhti hain.

ğŸ§© 8. Uninstall & Reinstall AWS CLI (Optional)
ğŸ”¸ Uninstall AWS CLI v2:
sudo rm -rf /usr/local/aws-cli
sudo rm /usr/local/bin/aws
ğŸ“ Note:
/usr/local/bin/aws is AWS CLI path.
Check with command:
which aws
ğŸ§ª To check if CLI is removed:
aws --version

ğŸ”¸ Reinstall AWS CLI:
sudo ./aws/install
ğŸ“˜ Useful agar corrupt install ho ya upgrade karna ho.

ğŸ§© 9. Concept Recap Table

| Topic                      | Roman Urdu Explanation                        |
| -------------------------- | --------------------------------------------- |
| AWS CLI                    | AWS terminal se use karne ka tool             |
| IAM User                   | CLI ke liye permission wala user              |
| Policy                     | EC2 start, S3 access jaise actions ki ijaazat |
| Access Key / Secret        | CLI authentication ke liye zaroori keys       |
| aws configure              | CLI credentials aur region set karna          |
| aws ec2 describe-instances | EC2 instance ki list lena                     |
| aws s3 mb                  | New S3 bucket banana                          |
| aws s3 cp                  | File ko S3 bucket mein upload karna           |
| aws s3 ls                  | Buckets ya files list karna                   |

âœ… Final Checklist
â€¢ âœ” AWS CLI installed (manual method)
â€¢ âœ” IAM user + custom policy created & attached
â€¢ âœ” CLI configured with access key & region
â€¢ âœ” EC2 instances listed
â€¢ âœ” S3 bucket created & file uploaded

