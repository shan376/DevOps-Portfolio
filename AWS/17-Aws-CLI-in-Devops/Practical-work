### ðŸ§© AWS CLI Practical Work

#### **1. Install AWS CLI (Manual Method â€“ Ubuntu)**

```bash
curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
sudo apt install unzip -y
unzip awscliv2.zip
sudo ./aws/install
```

#### **2. Check AWS CLI Version**

```bash
aws --version
```

---

#### **3. Create IAM User and Policy (in AWS Console)**

**Steps:**

1. Go to **IAM â†’ Users â†’ Add user**
2. Enter user name â†’ e.g., `cli-user`
3. Select âœ… **Programmatic access**
4. Click **Next** till â€œPermissionsâ€

**Create Custom Policy (IAM â†’ Policies â†’ Create Policy â†’ JSON tab):**

```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Action": [
"ec2:StartInstances",
"ec2:StopInstances",
"s3:*"
],
"Resource": "*"
}
]
}
```

**Policy Name:** `DevOpsCLIPolicy`

**Attach Policy:**

1. Go to **IAM â†’ Users â†’ cli-user**
2. Click **Permissions â†’ Add permissions**
3. Choose **Attach policies directly**
4. Select **DevOpsCLIPolicy**
5. Click **Add permissions**

---

#### **4. Configure AWS CLI**

```bash
aws configure
```

Enter following details:

* **AWS Access Key ID:** (from IAM user)
* **AWS Secret Access Key:** (from IAM user)
* **Default region name:** e.g., `ap-south-1`
* **Default output format:** `json`

**Config files created:**

```
~/.aws/credentials
~/.aws/config
```

---

#### **5. Generate New Access Key (if needed)**

AWS Console â†’ IAM â†’ Users â†’ your user â†’ Security credentials â†’ Access keys â†’ **Create access key**

---

#### **6. CLI Lab Practice â€“ EC2 & S3**

âœ… **(A) List EC2 Instances**

```bash
aws ec2 describe-instances
```

âœ… **(B) List All S3 Buckets**

```bash
aws s3 ls
```

âœ… **(C) Create New S3 Bucket**

```bash
aws s3 mb s3://my-devops-bucket-172
```

âœ… **(D) Create a File**

```bash
cat > myfile.txt
```

âœ… **(E) Upload File to S3 Bucket**

```bash
aws s3 cp myfile.txt s3://my-devops-bucket-172/
```

âœ… **(F) Verify File Upload**

```bash
aws s3 ls s3://my-devops-bucket-172/
```

---

#### **7. Uninstall & Reinstall AWS CLI (Optional)**

**Uninstall AWS CLI v2**

```bash
sudo rm -rf /usr/local/aws-cli
sudo rm /usr/local/bin/aws
which aws
aws --version
```

**Reinstall AWS CLI**

```bash
sudo ./aws/install
```

---

