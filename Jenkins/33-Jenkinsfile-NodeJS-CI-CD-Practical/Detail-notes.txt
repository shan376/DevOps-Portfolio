ğŸ“˜ Jenkinsfile (Declarative Pipeline for Node.js App)
âœ… Conceptual Understanding (English):
A Jenkinsfile is a text file that defines a Jenkins pipeline â€” the sequence of steps to build, test, and deploy your application. It uses either:
â€¢	Declarative syntax: Recommended; more readable and structured.
â€¢	Scripted syntax: More powerful and flexible (written in Groovy).
This file is usually stored in the root of your GitHub project. Jenkins reads it to automate CI/CD.
________________________________________
ğŸ§  Roman Urdu Explanation:
Jenkinsfile aik text file hoti hai jismein likha hota hai ke Jenkins ko kis order mein kaam karna hai â€” jaise ke code build karna, test chalana, aur deploy karna.
Yeh file project ke root folder mein hoti hai aur jab bhi code push hota hai, Jenkins is Jenkinsfile ke mutabiq automation run karta hai.
Samajhne ke liye Choti Example Story:
Socho tumhari ek Node.js app hai BookStore naam ki.
Is app ka code GitHub pe rakha hai.
Ab tum DevOps Engineer ho â€” tum Jenkins ko ye kehna chah rahay ho:
"Jab bhi koi naya code aaye GitHub se, tu ye 4 kaam automatically kar dena."
________________________________________
ğŸ› ï¸ Step-by-Step Practical Implementation (Node.js Example)
ğŸ”§ Note: This example uses a Node.js project and defines a basic Jenkinsfile to automate the pipeline.
âœ… Install Java (JDK 17)
bash
CopyEdit
sudo apt update
sudo apt install openjdk-17-jdk -y
java -version
________________________________________
âœ… Install Maven
bash
CopyEdit
sudo apt install maven -y
mvn -v
________________________________________
âœ… Install Jenkins (Port 8080 default)
1. Add Jenkins GPG key
bash
CopyEdit
wget -q -O - https://pkg.jenkins.io/debian/jenkins.io-2023.key | sudo apt-key add -
2. Add Jenkins repository
bash
CopyEdit
sudo sh -c 'echo deb https://pkg.jenkins.io/debian binary/ > /etc/apt/sources.list.d/jenkins.list'
3. Update package list and install Jenkins
bash
CopyEdit
sudo apt update
sudo apt install jenkins -y
________________________________________
âœ… Start, Enable & Check Jenkins Service Status
bash
CopyEdit
sudo systemctl start jenkins
sudo systemctl enable jenkins
sudo systemctl status jenkins
________________________________________
Jenkins by default runs on port 8080, so you can access it in your browser using:
cpp
CopyEdit
http://<your-server-ip>:8080

âœ… Install Node.js (on EC2 or Jenkins server):
sudo apt update
sudo apt install nodejs -y
sudo apt install npm -y
node -v
npm -v
ğŸ§¾ Roman Urdu Explanation of Stages:
1.	Install Dependencies:
npm install command run karta hai jo project ke liye required packages install karta hai.
2.	Run Tests:
npm test se automated tests run hotay hain jo quality check karte hain.
3.	Build:
npm run build command app ko production ke liye tayar karta hai.
4.	Deploy:
echo command filhaal sirf simulate kar raha hai ke deploy ho raha hai. (Real deployment yahan add kiya ja sakta hai.)
âœ…  Project Folder Open Karo
Agar tumhare paas pehle se Node.js project hai, to:
bash
CopyEdit
cd tumhare-project-ka-folder
Agar nahi hai, to ek naya banao:
bash
CopyEdit
mkdir my-node-app
cd my-node-app
npm init -y   # basic Node.js project ban jaye
________________________________________
 Jenkinsfile Create Karo
Command:
bash
CopyEdit
nano Jenkinsfile
Ye command ek new file kholegi jiska naam Jenkinsfile hoga (without any extension).
Paste Jenkinsfile Code
Ab tum ye code paste karo terminal mein (ya right-click se paste):
groovy
CopyEdit
pipeline {
  agent any

  stages {
    stage('Install Dependencies') {
      steps {
        sh 'npm install'
      }
    }

    stage('Run Tests') {
      steps {
        sh 'npm test'
      }
    }

    stage('Build') {
      steps {
        sh 'npm run build'
      }
    }

    stage('Deploy') {
      steps {
        echo 'Deploying the application...'
      }
    }
  }
}
âœ… Fix pom.xml (with dependencies)
nano pom.xml
Paste the following content inside pom.xml:
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
                             http://maven.apache.org/xsd/maven-4.0.0.xsd"> 
 
    <modelVersion>4.0.0</modelVersion> 
    <groupId>com.shan.app</groupId> 
    <artifactId>my-app</artifactId> 
    <version>1.0-SNAPSHOT</version> 
    <packaging>jar</packaging> 
 
    <name>My Maven App</name> 
    <description>Simple Maven App integrated with Jenkins</description> 
 
    <dependencies> 
        <dependency> 
            <groupId>junit</groupId> 
            <artifactId>junit</artifactId> 
            <version>4.13.2</version> 
            <scope>test</scope> 
        </dependency> 
    </dependencies> 
 
    <build> 
        <plugins> 
            <plugin> 
                <groupId>org.apache.maven.plugins</groupId> 
                <artifactId>maven-compiler-plugin</artifactId> 
                <version>3.8.1</version> 
                <configuration> 
                    <source>1.8</source> 
                    <target>1.8</target> 
                </configuration> 
            </plugin> 
        </plugins> 
    </build> 
</project>

âœ… package.json (working version with dummy test and build)
Open package.json file as 
nano package.json

Paste this code

{
  "name": "my-node-app",
  "version": "1.0.0",
  "description": "Simple Node.js app for Jenkins CI/CD testing",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "test": "echo \"Dummy test passed\" && exit 0",
    "build": "echo \"Build successful\""
  },
  "author": "Shan",
  "license": "ISC",
  "dependencies": {}
}

________________________________________
âœ… Push to GitHub
git init
git remote add origin https://github.com/shan376/node-ci-pipeline.git
git add .
git commit -m "Initial Maven project with Jenkinsfile"
git branch -M main
git push -u origin main
ğŸ” Add GitHub Credentials in Jenkins
1.	Jenkins â†’ Manage Jenkins â†’ Credentials â†’ (Global) â†’ Add Credentials
2.	Type: Username with Password
o	Username: Your GitHub username
o	Password: GitHub Personal Access Token
ğŸ—ï¸ Create Jenkins Pipeline Job for Node.js Project
1.	Jenkins Dashboard â†’ New Item
2.	Name: node-ci-pipeline â†’ Select Pipeline â†’ OK
3.	In Pipeline section:
o	Pipeline script from SCM
o	SCM: Git
o	Repository URL: https://github.com/yourusername/node-ci-pipeline.git
o	Branch: */main
o	Script Path: Jenkinsfile
ğŸŒ Set Up Webhook in GitHub
1.	GitHub â†’ Your Repo â†’ Settings â†’ Webhooks â†’ Add Webhook
2.	Fill:
o	Payload URL: http://<jenkins-ip>:8080/github-webhook/
o	Content type: application/json
o	Event: Just the push event
o	âœ… Active
âœ… Enable GitHub Trigger in Jenkins
1.	Jenkins Dashboard â†’ Pipeline Job â†’ Configure
2.	Scroll to Build Triggers
3.	âœ… Check: GitHub hook trigger for GITScm polling
ğŸ” Real Testing:
â€¢	README.md, index.js ya Jenkinsfile edit karo â†’ GitHub pe push karo
â€¢	Jenkins should automatically build â†’ test â†’ simulate deploy
________________________________________
ğŸ“Œ Roman Urdu Summary:
â€¢ Jenkinsfile ek automation script hai jo pipeline define karta hai
â€¢ Node.js app ke liye humne 4 stages likhi: install, test, build, deploy
â€¢ Jenkinsfile GitHub pe push kiya
â€¢ Jenkins mein GitHub repo configure kiya aur webhook setup kiya
â€¢ Jab bhi koi code push hota hai â†’ Jenkins auto build aur test karta hai
â¡ï¸ Yeh automation Developer ka kaam asaan bana deta hai!
________________________________________
ğŸ” Quick Checklist
âœ… Topic	Status
Jenkinsfile ka concept (English + Roman Urdu)	âœ”ï¸
Node.js + Jenkins integration ka use case	âœ”ï¸
Java, Maven, Jenkins, Node.js installation steps	âœ”ï¸
Project setup + npm init	âœ”ï¸
Jenkinsfile code explanation	âœ”ï¸
package.json with dummy test/build	âœ”ï¸
pom.xml for Maven support	âœ”ï¸
GitHub push steps with Git remote	âœ”ï¸
Jenkins GitHub credentials add karna	âœ”ï¸
Webhook setup in GitHub	âœ”ï¸
Build triggers in Jenkins	âœ”ï¸
Final Roman Urdu Summary	âœ”ï¸
Real-time CI/CD testing tips	âœ”ï¸
